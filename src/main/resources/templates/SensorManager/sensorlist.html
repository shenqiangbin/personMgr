<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.w3.org/1999/xhtml" layout:decorator="share/managerlayout">

<head>
    <title>测点管理</title>
</head>
<body>

<div layout:fragment="mangercontent">
    <div class="con-box">
        <!--<a href="#" class="a-reture">-->
            <!--<svg class="icon" aria-hidden="true">-->
                <!--<use xlink:href="#icon-return"></use>-->
            <!--</svg>-->
            <!--返回-->
        <!--</a>-->
        <div class="top-form clearfix">
            <div class="table-ht dvm">
                <span>客户名称：</span>
                <el-input id="roleType" style="display: none;" th:value="${RoleType}"></el-input>
                <el-input id="customerID" style="display: none;" th:value="${customerID}"></el-input>
                <el-select v-model="query.customerID" placeholder="请选择" @change="fetchData">
                    <el-option v-for="item in customerList.list"  :key="item.customerID" :label="item.customerName"  :value="item.customerID"> </el-option>
                </el-select>
            </div>
            <div class="table-ht dvm">
                <span class="dvm">测点：</span>
                <el-input placeholder="" v-model="query.sensorName" class="dvm-input"></el-input>
            </div>
            <div class="table-ht dvm">
                <span class="dvm">底图：</span>
                <el-input placeholder="" v-model="query.baseMapName" class="dvm-input"></el-input>
                <el-button type="primary" @click="fetchData">查 找</el-button>
            </div>
        </div>
        <el-table style="width: 100%" :data="pageModel.list">
            <el-table-column  label="序号" width="70" type="index" align="center">
                <template scope="scope"><span>{{scope.row.num}} </span></template>
            </el-table-column>
            <el-table-column  label="测点" min-width="200px">
                <template slot-scope="scope" >{{scope.row.sensorName}}</template>
            </el-table-column>
            <el-table-column  label="点号">
                <template slot-scope="scope">{{scope.row.sensorCode}}</template>
            </el-table-column>
            <!--<el-table-column  label="传感器">-->
                <!--<template slot-scope="scope">{{scope.row.sensorCount}}</template>-->
            <!--</el-table-column>-->
            <el-table-column  label="底图">
                <template slot-scope="scope">
                    <a href="#" @click="toSensorView(scope.$index, scope.row)" class="ta-bd">{{scope.row.baseMap.baseMapName}}</a>
                </template>
            </el-table-column>
        </el-table>
        <!--<el-pagination  @size-change="handleSizeChange" @current-change="handleCurrentChange" :current-page="currentPage4" :page-size="100" layout="total,prev, pager, next, jumper"  :total="400"> </el-pagination>-->
        <el-pagination
                @size-change="handleSizeChange"
                @current-change="handleCurrentChange"
                layout="total,sizes,prev,pager,next,jumper"
                :total="pageModel.totalCount"
                :current-page="pageModel.currentPage"
                :page-sizes="[10,20,30,50]"
                :page-size="pageModel.pagesize">
        </el-pagination>
    </div>
</div>

<div layout:fragment="jscontent">
    <!-- 关系管理相关js -->
    <script th:src="@{/js/sensor/sensorlist.js}" src="js/sensor/sensorlist.js"></script>
</div>
</body>
</html>


